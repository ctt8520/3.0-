{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\images\\jsppui3.0\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\Administrator\\Desktop\\images\\jsppui3.0\\src\\libs\\jspp-ui\\Carousel\\index.vue?vue&type=style&index=0&id=0401a272&lang=scss&scoped=true","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\images\\jsppui3.0\\src\\libs\\jspp-ui\\Carousel\\index.vue","mtime":1600074021973},{"path":"C:\\Users\\Administrator\\Desktop\\images\\jsppui3.0\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\images\\jsppui3.0\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\images\\jsppui3.0\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\images\\jsppui3.0\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\images\\jsppui3.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\images\\jsppui3.0\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogICAgLmNhcm91c2VsIHsNCiAgICAgICAgd2lkdGg6IDEwMCU7DQogICAgICAgIGhlaWdodDogMTAwJTsNCiAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7DQoNCiAgICAgICAgLmlubmVyIHsNCiAgICAgICAgICAgIHdpZHRoOiAxMDAlOw0KICAgICAgICAgICAgaGVpZ2h0OiAxMDAlOw0KICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOw0KICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsNCiAgICAgICAgfQ0KICAgIH0NCg=="},{"version":3,"sources":["C:\\Users\\Administrator\\Desktop\\images\\jsppui3.0\\src\\libs\\jspp-ui\\Carousel\\index.vue"],"names":[],"mappings":";IAiLI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;QACN,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;;QAEjB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;YACH,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;YACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;YACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACpB;IACJ","file":"C:/Users/Administrator/Desktop/images/jsppui3.0/src/libs/jspp-ui/Carousel/index.vue","sourceRoot":"","sourcesContent":["<template>\r\n    <div class=\"carousel\" @mouseenter=\"enter()\" @mouseleave=\"leave()\" @touchstart='touchstart' @touchend='touchend'\r\n        @touchmove='touchmove' @mousedown='mousedown' @mouseup='mouseup'>\r\n        <div class=\"inner\">\r\n            <CarDot :hasDot='hasDot' :dotBgColor='dotBgColor' :itemLen='itemLen' :currentIndex='currentIndex'\r\n                @dotClick='dotClick' />\r\n            <Director dir='next' :isShow='DirectorShow' @dirClick='dirClick' v-show='isShowDir' />\r\n            <Director dir='prev' :isShow='DirectorShow' @dirClick='dirClick' v-show='isShowDir' />\r\n            <slot></slot>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\n    import {\r\n        reactive,\r\n        toRefs,\r\n        getCurrentInstance,\r\n        onMounted,\r\n        onBeforeUnmount\r\n    } from 'vue'\r\n    import CarDot from './Dot'\r\n    import Director from './Director'\r\n    export default {\r\n        name: 'Carousel',\r\n        components: {\r\n            CarDot,\r\n            Director\r\n        },\r\n        props: {\r\n            autoplay: {\r\n                type: Boolean,\r\n                default: true\r\n            },\r\n            duration: {\r\n                type: Number,\r\n                default: 3000\r\n            },\r\n            initial: {\r\n                type: Number,\r\n                default: 0\r\n            },\r\n            hasDot: {\r\n                type: Boolean,\r\n                default: true\r\n            },\r\n            hasDirector: {\r\n                type: Boolean,\r\n                default: true\r\n            },\r\n            dotBgColor: String,\r\n            DirectorShow: {\r\n                type: Boolean,\r\n                default: true\r\n            },\r\n            isTouch: {\r\n                type: Boolean,\r\n                default: true\r\n            }\r\n        },\r\n        setup(props) {\r\n            const Instance = getCurrentInstance()\r\n            const state = reactive({\r\n                currentIndex: props.initial,\r\n                itemLen: 0,\r\n                isShowDir: false,\r\n                touchstartX: 0,\r\n                touchendX: 0,\r\n                mousedownX: 0,\r\n                mouseupX: 0\r\n            })\r\n\r\n            let t = null;\r\n\r\n            const autoPlay = () => {\r\n                if (props.autoplay) {\r\n                    t = setInterval(() => {\r\n                        steIndex('next')\r\n                    }, props.duration)\r\n                }\r\n            }\r\n            const dotClick = (index) => {\r\n                state.currentIndex = index;\r\n            }\r\n            const dirClick = (dir) => {\r\n                steIndex(dir)\r\n            }\r\n            const steIndex = (dir) => {\r\n                switch (dir) {\r\n                    case 'next':\r\n                        state.currentIndex += 1;\r\n                        if (state.currentIndex == state.itemLen) {\r\n                            state.currentIndex = 0;\r\n                        }\r\n                        break\r\n                    case 'prev':\r\n                        state.currentIndex -= 1;\r\n                        if (state.currentIndex == -1) {\r\n                            state.currentIndex = 4\r\n                        }\r\n                }\r\n\r\n            }\r\n            const enter = () => {\r\n                StopAitoplay()\r\n            }\r\n\r\n\r\n            const StopAitoplay = () => {\r\n                if (props.DirectorShow) {\r\n                    state.isShowDir = true\r\n                }\r\n\r\n                clearInterval(t)\r\n                t = null\r\n            }\r\n\r\n            const leave = () => {\r\n                state.isShowDir = false\r\n                autoPlay()\r\n            }\r\n\r\n\r\n            const touchstart = (ev) => {\r\n                console.log(ev.changedTouches[0].pageX, 'touchstart')\r\n                state.touchstartX = ev.changedTouches[0].pageX\r\n            }\r\n            const touchend = (ev) => {\r\n                if (props.isTouch) {\r\n                    state.touchendX = ev.changedTouches[0].pageX\r\n                    if (state.touchstartX > state.touchendX) {\r\n                        steIndex('next')\r\n                    } else if (state.touchstartX < state.touchendX) {\r\n                        steIndex('prev')\r\n                    }\r\n                }\r\n\r\n            }\r\n\r\n            const mousedown = (ev) => {\r\n                state.mousedownX = ev.pageX;\r\n                console.log(ev, 'mousedown')\r\n            }\r\n\r\n            const mouseup = (ev) => {\r\n                if (props.isTouch) {\r\n                    state.mouseupX = ev.pageX;\r\n                    if (state.mousedownX > state.mouseupX) {\r\n                        steIndex('next')\r\n                    } else if (state.mousedownX < state.mouseupX) {\r\n                        steIndex('prev')\r\n                    }\r\n                }\r\n\r\n            }\r\n            onMounted(() => {\r\n                state.itemLen = Instance.slots.default()[0].children.length;\r\n                autoPlay()\r\n            })\r\n            onBeforeUnmount(() => {\r\n                StopAitoplay()\r\n            })\r\n\r\n            return {\r\n                ...toRefs(state),\r\n                enter,\r\n                leave,\r\n                dotClick,\r\n                dirClick,\r\n                touchstart,\r\n                touchend,\r\n                mousedown,\r\n                mouseup\r\n            }\r\n        }\r\n    }\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n    .carousel {\r\n        width: 100%;\r\n        height: 100%;\r\n        user-select: none;\r\n\r\n        .inner {\r\n            width: 100%;\r\n            height: 100%;\r\n            position: relative;\r\n            overflow: hidden;\r\n        }\r\n    }\r\n</style>"]}]}