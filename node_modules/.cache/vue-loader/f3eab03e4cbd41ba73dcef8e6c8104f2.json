{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\images\\jsppui3.0\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\Administrator\\Desktop\\images\\jsppui3.0\\src\\libs\\jspp-ui\\Carousel\\index.vue?vue&type=template&id=0401a272&scoped=true&bindings={\"autoplay\":\"props\",\"duration\":\"props\",\"initial\":\"props\",\"hasDot\":\"props\",\"hasDirector\":\"props\",\"dotBgColor\":\"props\",\"DirectorShow\":\"props\",\"isTouch\":\"props\",\"enter\":\"setup\",\"leave\":\"setup\",\"dotClick\":\"setup\",\"dirClick\":\"setup\",\"touchstart\":\"setup\",\"touchend\":\"setup\",\"mousedown\":\"setup\",\"mouseup\":\"setup\"}","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\images\\jsppui3.0\\src\\libs\\jspp-ui\\Carousel\\index.vue","mtime":1600074021973},{"path":"C:\\Users\\Administrator\\Desktop\\images\\jsppui3.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\images\\jsppui3.0\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\images\\jsppui3.0\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\images\\jsppui3.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\images\\jsppui3.0\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogICAgPGRpdiBjbGFzcz0iY2Fyb3VzZWwiIEBtb3VzZWVudGVyPSJlbnRlcigpIiBAbW91c2VsZWF2ZT0ibGVhdmUoKSIgQHRvdWNoc3RhcnQ9J3RvdWNoc3RhcnQnIEB0b3VjaGVuZD0ndG91Y2hlbmQnDQogICAgICAgIEB0b3VjaG1vdmU9J3RvdWNobW92ZScgQG1vdXNlZG93bj0nbW91c2Vkb3duJyBAbW91c2V1cD0nbW91c2V1cCc+DQogICAgICAgIDxkaXYgY2xhc3M9ImlubmVyIj4NCiAgICAgICAgICAgIDxDYXJEb3QgOmhhc0RvdD0naGFzRG90JyA6ZG90QmdDb2xvcj0nZG90QmdDb2xvcicgOml0ZW1MZW49J2l0ZW1MZW4nIDpjdXJyZW50SW5kZXg9J2N1cnJlbnRJbmRleCcNCiAgICAgICAgICAgICAgICBAZG90Q2xpY2s9J2RvdENsaWNrJyAvPg0KICAgICAgICAgICAgPERpcmVjdG9yIGRpcj0nbmV4dCcgOmlzU2hvdz0nRGlyZWN0b3JTaG93JyBAZGlyQ2xpY2s9J2RpckNsaWNrJyB2LXNob3c9J2lzU2hvd0RpcicgLz4NCiAgICAgICAgICAgIDxEaXJlY3RvciBkaXI9J3ByZXYnIDppc1Nob3c9J0RpcmVjdG9yU2hvdycgQGRpckNsaWNrPSdkaXJDbGljaycgdi1zaG93PSdpc1Nob3dEaXInIC8+DQogICAgICAgICAgICA8c2xvdD48L3Nsb3Q+DQogICAgICAgIDwvZGl2Pg0KICAgIDwvZGl2Pg0K"},{"version":3,"sources":["C:\\Users\\Administrator\\Desktop\\images\\jsppui3.0\\src\\libs\\jspp-ui\\Carousel\\index.vue"],"names":[],"mappings":";IACI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC1G,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAChE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC5F,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;YAC1B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;YACrF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;YACrF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAChB,CAAC,CAAC,CAAC,CAAC,CAAC;IACT,CAAC,CAAC,CAAC,CAAC,CAAC","file":"C:/Users/Administrator/Desktop/images/jsppui3.0/src/libs/jspp-ui/Carousel/index.vue","sourceRoot":"","sourcesContent":["<template>\r\n    <div class=\"carousel\" @mouseenter=\"enter()\" @mouseleave=\"leave()\" @touchstart='touchstart' @touchend='touchend'\r\n        @touchmove='touchmove' @mousedown='mousedown' @mouseup='mouseup'>\r\n        <div class=\"inner\">\r\n            <CarDot :hasDot='hasDot' :dotBgColor='dotBgColor' :itemLen='itemLen' :currentIndex='currentIndex'\r\n                @dotClick='dotClick' />\r\n            <Director dir='next' :isShow='DirectorShow' @dirClick='dirClick' v-show='isShowDir' />\r\n            <Director dir='prev' :isShow='DirectorShow' @dirClick='dirClick' v-show='isShowDir' />\r\n            <slot></slot>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\n    import {\r\n        reactive,\r\n        toRefs,\r\n        getCurrentInstance,\r\n        onMounted,\r\n        onBeforeUnmount\r\n    } from 'vue'\r\n    import CarDot from './Dot'\r\n    import Director from './Director'\r\n    export default {\r\n        name: 'Carousel',\r\n        components: {\r\n            CarDot,\r\n            Director\r\n        },\r\n        props: {\r\n            autoplay: {\r\n                type: Boolean,\r\n                default: true\r\n            },\r\n            duration: {\r\n                type: Number,\r\n                default: 3000\r\n            },\r\n            initial: {\r\n                type: Number,\r\n                default: 0\r\n            },\r\n            hasDot: {\r\n                type: Boolean,\r\n                default: true\r\n            },\r\n            hasDirector: {\r\n                type: Boolean,\r\n                default: true\r\n            },\r\n            dotBgColor: String,\r\n            DirectorShow: {\r\n                type: Boolean,\r\n                default: true\r\n            },\r\n            isTouch: {\r\n                type: Boolean,\r\n                default: true\r\n            }\r\n        },\r\n        setup(props) {\r\n            const Instance = getCurrentInstance()\r\n            const state = reactive({\r\n                currentIndex: props.initial,\r\n                itemLen: 0,\r\n                isShowDir: false,\r\n                touchstartX: 0,\r\n                touchendX: 0,\r\n                mousedownX: 0,\r\n                mouseupX: 0\r\n            })\r\n\r\n            let t = null;\r\n\r\n            const autoPlay = () => {\r\n                if (props.autoplay) {\r\n                    t = setInterval(() => {\r\n                        steIndex('next')\r\n                    }, props.duration)\r\n                }\r\n            }\r\n            const dotClick = (index) => {\r\n                state.currentIndex = index;\r\n            }\r\n            const dirClick = (dir) => {\r\n                steIndex(dir)\r\n            }\r\n            const steIndex = (dir) => {\r\n                switch (dir) {\r\n                    case 'next':\r\n                        state.currentIndex += 1;\r\n                        if (state.currentIndex == state.itemLen) {\r\n                            state.currentIndex = 0;\r\n                        }\r\n                        break\r\n                    case 'prev':\r\n                        state.currentIndex -= 1;\r\n                        if (state.currentIndex == -1) {\r\n                            state.currentIndex = 4\r\n                        }\r\n                }\r\n\r\n            }\r\n            const enter = () => {\r\n                StopAitoplay()\r\n            }\r\n\r\n\r\n            const StopAitoplay = () => {\r\n                if (props.DirectorShow) {\r\n                    state.isShowDir = true\r\n                }\r\n\r\n                clearInterval(t)\r\n                t = null\r\n            }\r\n\r\n            const leave = () => {\r\n                state.isShowDir = false\r\n                autoPlay()\r\n            }\r\n\r\n\r\n            const touchstart = (ev) => {\r\n                console.log(ev.changedTouches[0].pageX, 'touchstart')\r\n                state.touchstartX = ev.changedTouches[0].pageX\r\n            }\r\n            const touchend = (ev) => {\r\n                if (props.isTouch) {\r\n                    state.touchendX = ev.changedTouches[0].pageX\r\n                    if (state.touchstartX > state.touchendX) {\r\n                        steIndex('next')\r\n                    } else if (state.touchstartX < state.touchendX) {\r\n                        steIndex('prev')\r\n                    }\r\n                }\r\n\r\n            }\r\n\r\n            const mousedown = (ev) => {\r\n                state.mousedownX = ev.pageX;\r\n                console.log(ev, 'mousedown')\r\n            }\r\n\r\n            const mouseup = (ev) => {\r\n                if (props.isTouch) {\r\n                    state.mouseupX = ev.pageX;\r\n                    if (state.mousedownX > state.mouseupX) {\r\n                        steIndex('next')\r\n                    } else if (state.mousedownX < state.mouseupX) {\r\n                        steIndex('prev')\r\n                    }\r\n                }\r\n\r\n            }\r\n            onMounted(() => {\r\n                state.itemLen = Instance.slots.default()[0].children.length;\r\n                autoPlay()\r\n            })\r\n            onBeforeUnmount(() => {\r\n                StopAitoplay()\r\n            })\r\n\r\n            return {\r\n                ...toRefs(state),\r\n                enter,\r\n                leave,\r\n                dotClick,\r\n                dirClick,\r\n                touchstart,\r\n                touchend,\r\n                mousedown,\r\n                mouseup\r\n            }\r\n        }\r\n    }\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n    .carousel {\r\n        width: 100%;\r\n        height: 100%;\r\n        user-select: none;\r\n\r\n        .inner {\r\n            width: 100%;\r\n            height: 100%;\r\n            position: relative;\r\n            overflow: hidden;\r\n        }\r\n    }\r\n</style>"]}]}